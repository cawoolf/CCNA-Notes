*** Useful Commands ***
SW1(config)#no ip domain lookup
SW1(config)#host name "SW1"
SW1(config)#default interface gigabitEtherenet0/0/0
SW1(config)#default interface range fa0/1 - 10

SW1#show interfaces status
SW1#show lldp neighbors
SW1#show interfaces status disabled

--Use the "do" command to execute show from any mode-

*** Router Show Commands ***
R1# sh ip int brief --> Show all interfaces and status on a Router
R1# show ip route --> Shows all ip routes on a router
R1# show run --> Shows the running config. Press <enter> for more
R1#default interface [interface-number]

*** Route Config Commands ***

R1(config-if)#ip address XXX.XXX.XXX.XXX xxx.xxx.xxx.xxx.xxx -> Confg IP address
R1(config)# ip route "desitnation" "subnet" "next hop address" -> Add route
R1(config)#no ip route 1.1.1.1 255.255.255.255 2.2.2.2 -> Delete ip route

R1(config)#ip route 0.0.0.0 0.0.0.0 192.168.5.49 -> Default route to internet

***VLAN Commands - Switchport***
SW1(config)#interface range g1/0 - 3
SW1(config-if-range)#switchport mode access
SW1(config-if-range)#switchport access vlan 10

SW1(config)#do show vlan brief

SW1(config)#vlan 20
SW1(config-vlan)#name Sales

*** VLAN Commands - Trunkport ***
SW1(config-if)#switchport mode trunk
SW1(config-if)#switchport trunk encapsulation dot1q
SW1(config-if)#switchport trunk allowed vlan vlan-id1, vlan-id2, ...
SW1(config-if)#do show interfaces trunk

***Sub Interface Commands - ROAS***
SW1(config)#interface FastEthernet0/1
SW1(config-if)#no ip address

SW1(config-if)#no shutdown

SW1(config)#interface FastEthernet0/1.1
SW1(config-if)#encapsulation dot1Q "vlan-id"
SW1(config-if)#ip address x.x.y.y < subnet mask >

SW1(config-if)#interface FastEthernet0/1.2
SW1(config-if)#encapsulation dot1Q 20
SW1(config-if)#ip address x.x.y.y < subnet mask >

*** Layer 3 Switching ***
SW1(config)#ip routing
SW1(config-if)#no switchport
SW1(config)#interface vlan "vlan-id"
SW1(config-if)#ip address x.x.y.y < subnet mask > (DG)

*** STP Commands ***
SW1#show spanning-tree
SW1#show spanning-tree active
SW1#show spanning-tree summary
SW1#show spanning-tree vlan 1
SW1#show spanning-tree interface fa0/1

- Cisco switches operate in STP by default
- STP is set on timers for BPDUs
- STP States blocking, listening, learning, fowarding

SW1(config)#spanning-tree mode ?
pvst        Per-Vlan spanning tree mode
rapid-pvst  Per-Vlan rapid spanning tree mode
- Can set the modes

SW1(config)#spanning-tree vlan 1 root primary
SW1(confg)#do show spanning-tree
- Sets the primray root bridge
- If another switches has a lower priority, 
sets the target switch to 4096 less

SW1(config)#spanning-tree vlan 1 root secondary
SW1(confg)#do show spanning-tree
- Sets the secondary root bridge. "Backup?"

- STP Load-Balancing creates diffrenet STP topolgies for diffrenet vlan
- Configure diffrenet root bridges for diffrenet vlans to load balance

***STP Port Settings***
SW1(config)#spaning tree vlan 1 priority ?
cost  Change an interface's per VLAN spanning tree path cost
post-priority Change an interface's spanning tree port priority
- Changing the cost or priority allows you to change STP outcome

SW1(config)#spaning tree vlan 1 cost 200
SW1(config)#spaning tree vlan 1 port-priority 32

*** Portfast ***
SW1(config-if)#interface g0/2
SW1(config-if)#spanning-tree portfast
SW1(config-if)#switchport mode access
- Portfast should only be used on ports connected to end hosts
- By passes learning and listenign states and goes straight to fowarding
- Switch ports need to be in access mode
- Risk of causing Layer 2 loops if not careful with portast

SW1(config-if)#spanning-tree portfast default
- Defaults all access ports to portfast

***BPDU Gaurd***
SW1(config-if)#interface g0/2
SW1(config-if)#spanning-tree bpduguard enable
- Cuases an interface that receives BPDUs from another switch to shut down. Prevents loops.
- Prevents Layer 2 loops from forming

SW1(config)#spanning-tree portfast bpduguard default
- Default BPDU Guard on portfast interfaces
- Root Guard and Loop Guard are other STP features.
- Probably don't need to know for CCNA, but be familar.




